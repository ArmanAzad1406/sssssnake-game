<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake Game</title>

<style>
:root{
  --bg:#020617;
  --panel:#0f172a;
  --board:#020617;
  --border:#6366f1;
  --snake:#22c55e;
  --food:#ef4444;
  --text:#e5e7eb;
}

*{box-sizing:border-box;font-family:system-ui,sans-serif}

body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:radial-gradient(circle at top,#0f172a,#020617);
  color:var(--text);
}

.game-container{
  background:rgba(15,23,42,.95);
  padding:16px;
  border-radius:18px;
  width:100%;
  max-width:420px;
  box-shadow:0 0 35px rgba(99,102,241,.35);
  text-align:center;
}

h1{
  margin:6px 0;
  color:var(--border);
}

.score{
  margin-bottom:10px;
}

.board-wrapper{
  padding:8px;
  border-radius:14px;
  border:3px solid var(--border);
  box-shadow:0 0 20px rgba(99,102,241,.5) inset;
}

canvas{
  background:var(--board);
  width:100%;
  aspect-ratio:1/1;
  border-radius:10px;
}

.controls{
  margin-top:12px;
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:8px;
}

.controls button{
  padding:12px;
  font-size:1.2rem;
  border:none;
  border-radius:10px;
  background:#1e293b;
  color:var(--text);
  cursor:pointer;
}

.controls button:hover{
  background:var(--border);
}

.controls .empty{
  pointer-events:none;
  background:transparent;
}

.restart{
  margin-top:10px;
  width:100%;
  padding:10px;
  border-radius:10px;
  border:none;
  background:var(--border);
  color:white;
  font-size:1rem;
  cursor:pointer;
}

.restart:hover{opacity:.85}
</style>
</head>

<body>
<div class="game-container">
  <h1>üêç Snake</h1>
  <div class="score">Score: <span id="score">0</span></div>

  <div class="board-wrapper">
    <canvas id="game" width="400" height="400"></canvas>
  </div>

  <div class="controls">
    <div class="empty"></div>
    <button onclick="setDir('up')">‚¨ÜÔ∏è</button>
    <div class="empty"></div>
    <button onclick="setDir('left')">‚¨ÖÔ∏è</button>
    <button onclick="setDir('down')">‚¨áÔ∏è</button>
    <button onclick="setDir('right')">‚û°Ô∏è</button>
  </div>

  <button class="restart" onclick="restart()">Restart</button>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const scoreEl = document.getElementById("score");

const grid = 20;
const tiles = canvas.width / grid;

let snake, food, dx, dy, score, speed, loop;

function start(){
  snake=[{x:10,y:10}];
  dx=1; dy=0;
  score=0;
  speed=150; // starting speed
  scoreEl.textContent=score;
  spawnFood();
  clearInterval(loop);
  loop=setInterval(update,speed);
}

function spawnFood(){
  food={
    x:Math.floor(Math.random()*tiles),
    y:Math.floor(Math.random()*tiles)
  };
}

function update(){
  const head={x:snake[0].x+dx,y:snake[0].y+dy};

  // wall or self collision
  if(
    head.x<0 || head.y<0 ||
    head.x>=tiles || head.y>=tiles ||
    snake.some(p=>p.x===head.x&&p.y===head.y)
  ){
    clearInterval(loop);
    alert("Game Over! Score: "+score);
    return;
  }

  snake.unshift(head);

  if(head.x===food.x && head.y===food.y){
    score++;
    scoreEl.textContent=score;

    // increase difficulty every 3 foods
    if(score%3===0 && speed>60){
      speed-=10;
      clearInterval(loop);
      loop=setInterval(update,speed);
    }

    spawnFood();
  }else{
    snake.pop();
  }

  draw();
}

function draw(){
  ctx.fillStyle="#020617";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // food
  ctx.fillStyle="#ef4444";
  ctx.fillRect(food.x*grid,food.y*grid,grid,grid);

  // snake
  ctx.fillStyle="#22c55e";
  snake.forEach(p=>{
    ctx.fillRect(p.x*grid,p.y*grid,grid-1,grid-1);
  });
}

function setDir(d){
  if(d==="up"&&dy===0){dx=0;dy=-1;}
  if(d==="down"&&dy===0){dx=0;dy=1;}
  if(d==="left"&&dx===0){dx=-1;dy=0;}
  if(d==="right"&&dx===0){dx=1;dy=0;}
}

document.addEventListener("keydown",e=>{
  if(e.key==="ArrowUp")setDir("up");
  if(e.key==="ArrowDown")setDir("down");
  if(e.key==="ArrowLeft")setDir("left");
  if(e.key==="ArrowRight")setDir("right");
});

function restart(){start();}
start();
</script>
</body>
</html>
